# PWA (Progressive Web App) 통합 및 아이콘 설정

## 개요
StockPilot 서비스를 데스크탑 및 모바일 기기에 앱처럼 설치하여 사용할 수 있도록 PWA 기능을 통합하고, 서비스 아이덴티티를 살린 전용 아이콘을 생성/적용함.

## 구현 상세

### 1. 앱 아이콘 생성
- **원본 소스**: `public/App_icon_3.png`
- **처리 방식**: `sharp` 라이브러리를 사용하여 원본 로고의 여백을 트리밍하고, 가독성과 시인성을 위해 **흰색 둥근 사각형 배경** 위에 로고를 합성하는 방식을 채택함.
- **최종 아이콘 파일**:
  - `public/icon-192x192.png`: Android/PC 설치 시 바탕화면 및 앱 목록용 (192px)
  - `public/icon-512x512.png`: Android/PC 설치 및 스플래시 화면용 (512px)
  - `public/apple-icon.png`: Safari '홈 화면에 추가' 및 iOS 전용 (180px)
  - `public/favicon.png`: 브라우저 탭 아이콘 (32px)

### 2. 웹앱 매니페스트 (manifest.json)
- **파일**: `public/manifest.json`
- **설정 내용**:
  - `name`: "StockPilot" (설치 시 표시될 정식 명칭)
  - `display`: "standalone" (주소창 없이 독립 앱처럼 실행)
  - `icons`: 생성한 아이콘들을 등록하고, 다양한 기기 환경(Android Adaptive Icon 등) 가이드에 맞춰 `purpose: "any maskable"` 속성을 부여함.

### 3. Next.js PWA 통합
- **라이브러리**: `@ducanh2912/next-pwa`
- **설정 파일**: `next.config.ts`
- **적용 내용**: `withPWA` 플러그인을 사용하여 빌드 시 서비스 워커(`sw.js`)를 생성하고 오프라인 캐싱 및 설치 유도 기능을 활성화함.

### 4. 레이아웃 메타데이터 연결
- **파일**: `src/app/layout.tsx`
- **내용**: 
  - `Metadata` 인터페이스를 통해 `manifest` 경로 지정.
  - `icons` 객체 내에 파비콘, 앱 아이콘, 애플 아이콘을 명시적으로 선언하여 모든 플랫폼에서 최적의 해상도로 로드되도록 조치함.

## 확인 및 관리 방법
1. **아이콘 갱신**: `public/App_icon_3.png`를 수정한 후 `npm run dev` 상태에서 아이콘 생성 스크립트를 재실행함.
   ```bash
   npx tsx scripts/generate-pwa-icons.ts
   ```
2. **설치 확인**: 
   - 브라우저 주소창 우측 '설치' 아이콘 또는 메뉴의 '앱으로 설치' 메뉴 확인.
   - 이미 설치된 경우 'StockPilot에서 열기'가 표시됨.
